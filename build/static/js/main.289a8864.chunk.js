(this["webpackJsonpgongjjang.com"]=this["webpackJsonpgongjjang.com"]||[]).push([[0],{24:function(e,t,a){},66:function(e,t,a){},71:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(19),s=a.n(r),i=(a(24),a(15)),o=a(4),u=a(3),l=a.n(u),j=a(6),d=a(5),b=a(13),p=a(14),h=a.n(p),O="LOGIN_USER",x="REGISTER_USER",f="OVERLAP_CHECK_EMAIL",v="AUTH_USER",m="LOGOUT_USER";function y(){return(y=Object(j.a)(l.a.mark((function e(t){var a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=h.a.post("/api/user/login",t).then((function(e){return e.data})),e.abrupt("return",{type:O,payload:a});case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function g(){return(g=Object(j.a)(l.a.mark((function e(t){var a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=h.a.post("/api/user/register",t).then((function(e){return e.data})),e.abrupt("return",{type:x,payload:a});case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function N(){return(N=Object(j.a)(l.a.mark((function e(t){var a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=h.a.post("/api/user/overlapCheckEmail",t).then((function(e){return e.data})),e.abrupt("return",{type:f,payload:a});case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function w(){return(w=Object(j.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=h.a.get("/api/user/auth").then((function(e){return e.data})),e.abrupt("return",{type:v,payload:t});case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function _(){return(_=Object(j.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=h.a.get("/api/user/logout").then((function(e){return e.data})),e.abrupt("return",{type:m,payload:t});case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var S=a(1);var k=function(e){var t=e.userInfo,a=Object(n.useState)(Boolean(!1)),c=Object(d.a)(a,2);return c[0],c[1],Object(S.jsxs)("div",{children:[Object(S.jsxs)("div",{children:["\uc774\uba54\uc77c: ",t.email]}),Object(S.jsxs)("div",{children:["\uc774\ub984: ",t.name]}),Object(S.jsxs)("div",{children:["\uc131\ubcc4: ",t.sex]}),Object(S.jsxs)("div",{children:["\ud559\uad50: ",t.school]}),Object(S.jsxs)("div",{children:["\ud559\ub144: ",t.grade]}),Object(S.jsxs)("div",{children:["\ud0d0\uad6c: ",t.option]}),Object(S.jsx)("div",{})]})};var C=function(){return Object(S.jsx)("div",{})};var T=Object(o.f)((function(e){var t,a=Object(b.b)(),c=Object(n.useState)(C),r=Object(d.a)(c,2),s=r[0],i=r[1];return Object(S.jsxs)("div",{children:[Object(S.jsx)("div",{className:"nav",children:Object(S.jsx)("div",{className:"title",children:"\uacf5\uc9f1\ub2f7\ucef4"})}),Object(S.jsx)("div",{className:"menu",children:Object(S.jsxs)("div",{className:"menu_content",children:[Object(S.jsx)("div",{className:"nav-item",children:Object(S.jsx)("a",{href:"/",onClick:void 0!==e.payload&&e.payload.isAuth?(t=Object(S.jsx)(k,{userInfo:e.payload}),function(e){i(t),e.preventDefault()}):void 0,children:"\ub0b4 \uc815\ubcf4"})}),Object(S.jsx)("div",{className:"nav-item",children:"\ub2e4\uc774\uc5b4\ub9ac"}),Object(S.jsx)("div",{className:"nav-item",children:"\ucee4\ubba4\ub2c8\ud2f0"}),Object(S.jsxs)("div",{className:"login-wrap",children:[Object(S.jsx)("a",{className:"nav-item",href:void 0===e.payload||e.payload.isAuth?"/":"login",onClick:void 0!==e.payload&&e.payload.isAuth?function(){a(function(){return _.apply(this,arguments)}()).then(function(){var t=Object(j.a)(l.a.mark((function t(a){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,a.payload;case 2:if(!t.sent.logoutSuccess){t.next=6;break}e.history.push("/"),t.next=7;break;case 6:alert("\ub85c\uadf8\uc544\uc6c3 \ud558\ub294\ub370 \uc2e4\ud328\ud588\uc2b5\ub2c8\ub2e4");case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),i(C)}:void 0,children:void 0!==e.payload&&e.payload.isAuth?"\ub85c\uadf8\uc544\uc6c3":"\ub85c\uadf8\uc778"}),Object(S.jsx)("a",{className:"nav-item",href:"register",children:"\ud68c\uc6d0\uac00\uc785"})]})]})}),Object(S.jsx)("main",{id:"container",children:s})]})}));var E=Object(o.f)((function(e){var t=Object(b.b)(),a=Object(n.useState)(""),c=Object(d.a)(a,2),r=c[0],s=c[1],i=Object(n.useState)(""),o=Object(d.a)(i,2),u=o[0],p=o[1];return Object(S.jsx)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",width:"100%",height:"100vh"},onSubmit:function(a){a.preventDefault(),t(function(e){return y.apply(this,arguments)}({email:r,password:u})).then(function(){var t=Object(j.a)(l.a.mark((function t(a){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,a.payload;case 2:if(!t.sent.loginSuccess){t.next=7;break}alert("\ub85c\uadf8\uc778 \uc131\uacf5"),e.history.push("/"),t.next=8;break;case 7:alert("\uc774\uba54\uc77c\uc774\ub098 \ube44\ubc00\ubc88\ud638\uac00 \uc62c\ubc14\ub974\uc9c0 \uc54a\uc2b5\ub2c8\ub2e4");case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())},children:Object(S.jsxs)("form",{style:{display:"flex",flexDirection:"column"},children:[Object(S.jsx)("label",{children:"ID"}),Object(S.jsx)("input",{type:"email",name:"email",onChange:function(e){s(e.currentTarget.value)}}),Object(S.jsx)("label",{children:"PASSWORD"}),Object(S.jsx)("input",{type:"password",name:"password",onChange:function(e){p(e.currentTarget.value)}}),Object(S.jsx)("br",{}),Object(S.jsx)("button",{type:"submit",children:"\ub85c\uadf8\uc778"})]})})}));a(66);var A=Object(o.f)((function(e){var t=Object(b.b)(),a=Object(n.useState)(""),c=Object(d.a)(a,2),r=c[0],s=c[1],i=Object(n.useState)(""),o=Object(d.a)(i,2),u=o[0],p=o[1],h=Object(n.useState)(""),O=Object(d.a)(h,2),x=O[0],f=O[1],v=Object(n.useState)(""),m=Object(d.a)(v,2),y=m[0],w=m[1],_=Object(n.useState)("\ub0a8\uc790"),k=Object(d.a)(_,2),C=k[0],T=k[1],E=Object(n.useState)(""),A=Object(d.a)(E,2),D=A[0],L=A[1],I=Object(n.useState)("1"),R=Object(d.a)(I,2),U=R[0],B=R[1],F=Object(n.useState)("\uc790\uc5f0"),P=Object(d.a)(F,2),z=P[0],G=P[1],M=Object(n.useState)(Boolean(!1)),Z=Object(d.a)(M,2),H=Z[0],J=Z[1],W=function(e){T(e.currentTarget.value)},K=function(e){B(e.currentTarget.value)},V=function(e){G(e.currentTarget.value)},$=function(a){if(a.preventDefault(),u!==x)return alert("\ube44\ubc00\ubc88\ud638\uc640 \ube44\ubc00\ubc88\ud638 \ud655\uc778\uc774 \ub2e4\ub985\ub2c8\ub2e4.");t(function(e){return g.apply(this,arguments)}({email:r,password:u,name:y,sex:C,school:D,grade:U,option:z})).then(function(){var t=Object(j.a)(l.a.mark((function t(a){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,a.payload;case 2:if(!t.sent.registerSuccess){t.next=7;break}alert("\ud68c\uc6d0\uac00\uc785 \uc131\uacf5"),e.history.push("/login"),t.next=8;break;case 7:alert("\uc774\uba54\uc77c\uc774\ub098 \ube44\ubc00\ubc88\ud638\uac00 \uc62c\ubc14\ub974\uc9c0 \uc54a\uc2b5\ub2c8\ub2e4");case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())};return Object(S.jsx)("div",{children:Object(S.jsxs)("form",{onSubmit:$,children:[Object(S.jsxs)("div",{className:"had",children:[Object(S.jsx)("div",{className:"go_home",children:Object(S.jsx)("a",{href:"/",children:"\uacf5\uc9f1\ub2f7\ucef4"})}),Object(S.jsx)("div",{className:"join",children:"\ud68c\uc6d0\uac00\uc785"})]}),Object(S.jsx)("div",{className:"middle",children:Object(S.jsx)("div",{className:"insert",children:"\uae30\ubcf8 \uc815\ubcf4 \uc785\ub825"})}),Object(S.jsxs)("div",{className:"main",children:[Object(S.jsxs)("div",{className:"box",children:[Object(S.jsxs)("div",{className:"insert_id",children:[Object(S.jsx)("div",{className:"from_tit",children:"\uc774\uba54\uc77c \uc785\ub825"}),Object(S.jsxs)("div",{className:"from_txt",children:[Object(S.jsx)("input",{type:"email",name:"email",maxLength:20,title:"\uc774\uba54\uc77c \uc785\ub825",placeholder:"\uc774\uba54\uc77c\ub97c \uc785\ub825\ud574 \uc8fc\uc138\uc694.",onChange:function(e){s(e.currentTarget.value)},readOnly:H}),Object(S.jsx)("button",{onClick:H?function(e){e.preventDefault(),J(!1),s("")}:function(e){var a=/^([0-9a-zA-Z_.-]+)@([0-9a-zA-Z_-]+)(\.[0-9a-zA-Z_-]+){1,2}$/;e.preventDefault(),t(function(e){return N.apply(this,arguments)}({email:r})).then(function(){var e=Object(j.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.payload;case 2:if(e.t0=e.sent.overlapCheckEmail,!e.t0){e.next=5;break}e.t0=a.test(r);case 5:if(!e.t0){e.next=10;break}alert("\ud574\ub2f9 \uc774\uba54\uc77c\uc740 \uc0ac\uc6a9\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4"),J(!0),e.next=11;break;case 10:alert("\ud574\ub2f9 \uc774\uba54\uc77c\uc740 \uc0ac\uc6a9\ud560 \uc218 \uc5c6\uc2b5\ub2c8\ub2e4");case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())},children:H?"\ucde8\uc18c":"\uc911\ubcf5\ud655\uc778"})]})]}),Object(S.jsxs)("div",{className:"insert_password",children:[Object(S.jsx)("div",{className:"from_tit",children:"\ube44\ubc00\ubc88\ud638 \uc785\ub825"}),Object(S.jsx)("div",{className:"from_txt",children:Object(S.jsx)("input",{type:"password",name:"password",maxLength:20,title:"\ube44\ubc00\ubc88\ud638 \uc785\ub825",placeholder:"\ube44\ubc00\ubc88\ud638\ub97c \uc785\ub825\ud574 \uc8fc\uc138\uc694.",onChange:function(e){p(e.currentTarget.value)}})})]}),Object(S.jsxs)("div",{className:"insert_password",children:[Object(S.jsx)("div",{className:"from_tit",children:"\ube44\ubc00\ubc88\ud638 \ud655\uc778"}),Object(S.jsx)("div",{className:"from_txt",children:Object(S.jsx)("input",{type:"password",name:"password",maxLength:20,title:"\ube44\ubc00\ubc88\ud638 \ud655\uc778",placeholder:"\ube44\ubc00\ubc88\ud638\ub97c \uc785\ub825\ud574 \uc8fc\uc138\uc694.",onChange:function(e){f(e.currentTarget.value)}})})]}),Object(S.jsxs)("div",{className:"insert_name",children:[Object(S.jsx)("div",{className:"from_tit",children:"\uc774\ub984 \uc785\ub825"}),Object(S.jsx)("div",{className:"from_txt",children:Object(S.jsx)("input",{type:"text",name:"name",maxLength:5,title:"\uc774\ub984 \uc785\ub825",placeholder:"\uc774\ub984\uc744 \uc785\ub825\ud574 \uc8fc\uc138\uc694.",onChange:function(e){w(e.currentTarget.value)}})})]}),Object(S.jsxs)("div",{className:"insert_sex",children:[Object(S.jsx)("div",{className:"from_tit",children:"\uc131\ubcc4 \uc120\ud0dd"}),Object(S.jsxs)("div",{className:"from_txt",children:[Object(S.jsx)("input",{type:"radio",name:"sex",value:"\ub0a8\uc790",defaultChecked:!0,onChange:W}),"\ub0a8\uc790",Object(S.jsx)("input",{type:"radio",name:"sex",value:"\uc5ec\uc790",onChange:W}),"\uc5ec\uc790"]})]}),Object(S.jsxs)("div",{className:"insert_school",children:[Object(S.jsx)("div",{className:"from_tit",children:"\ud559\uad50 \uc785\ub825"}),Object(S.jsx)("div",{className:"from_txt",children:Object(S.jsx)("input",{type:"text",name:"school",maxLength:20,title:"\ud559\uad50 \uc785\ub825",placeholder:"\ud559\uad50\ub97c \uc785\ub825\ud574 \uc8fc\uc138\uc694.",onChange:function(e){L(e.currentTarget.value)}})})]}),Object(S.jsxs)("div",{className:"insert_grade",children:[Object(S.jsx)("div",{className:"from_tit",children:"\ud559\ub144 \uc785\ub825"}),Object(S.jsxs)("div",{className:"from_txt",children:[Object(S.jsx)("input",{type:"radio",name:"grade",value:"1",defaultChecked:!0,onChange:K}),"1",Object(S.jsx)("input",{type:"radio",name:"grade",value:"2",onChange:K}),"2",Object(S.jsx)("input",{type:"radio",name:"grade",value:"3",onChange:K}),"3"]})]}),Object(S.jsxs)("div",{className:"insert_option",children:[Object(S.jsx)("div",{className:"from_tit",children:"\ud0d0\uad6c \uc120\ud0dd"}),Object(S.jsxs)("div",{className:"from_txt",children:[Object(S.jsx)("input",{type:"radio",name:"option",value:"\uc790\uc5f0",defaultChecked:!0,onChange:V}),"\uc790\uc5f0",Object(S.jsx)("input",{type:"radio",name:"option",value:"\uc778\ubb38",onChange:V}),"\uc778\ubb38"]})]})]}),Object(S.jsx)("div",{className:"button",children:Object(S.jsx)("button",{onClick:$,disabled:!H,children:"\ud68c\uc6d0\uac00\uc785"})})]})]})})}));function D(e,t){return function(a){var c=Object(b.b)(),r=Object(n.useState)({isAuth:!1}),s=Object(d.a)(r,2),i=s[0],o=s[1];return Object(n.useEffect)((function(){return c(function(){return w.apply(this,arguments)}()).then(function(){var e=Object(j.a)(l.a.mark((function e(n){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=o,e.next=3,n.payload;case 3:e.t1=e.sent,(0,e.t0)(e.t1),i.isAuth?!1===t&&a.history.push("/"):t&&a.history.push("/login");case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),function(){}}),[]),Object(S.jsx)(e,{payload:i})}}var L=function(){return Object(S.jsx)(i.a,{children:Object(S.jsx)("div",{children:Object(S.jsxs)(o.c,{children:[Object(S.jsx)(o.a,{exact:!0,path:"/",component:D(T,null)}),Object(S.jsx)(o.a,{exact:!0,path:"/login",component:D(E,!1)}),Object(S.jsx)(o.a,{exact:!0,path:"/register",component:D(A,!1)})]})})})},I=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,72)).then((function(t){var a=t.getCLS,n=t.getFID,c=t.getFCP,r=t.getLCP,s=t.getTTFB;a(e),n(e),c(e),r(e),s(e)}))},R=a(34),U=a.n(R),B=a(35),F=a(17),P=a(12);var z=Object(F.combineReducers)({user:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case O:return Object(P.a)(Object(P.a)({},e),{},{loginSuccess:t.payload});case x:return Object(P.a)(Object(P.a)({},e),{},{registerSuccess:t.payload});case f:return Object(P.a)(Object(P.a)({},e),{},{overlapCheckEmail:t.payload});case v:return Object(P.a)(Object(P.a)({},e),{},{userData:t.payload});case m:return Object(P.a)(Object(P.a)({},e),{},{logoutSuccess:t.payload});default:return e}}}),G=a(36);h.a.defaults.withCredentials=!0;var M=Object(F.createStore)(z,Object(G.composeWithDevTools)(Object(F.applyMiddleware)(U.a,B.a)));s.a.render(Object(S.jsx)(c.a.StrictMode,{children:Object(S.jsx)(b.a,{store:M,children:Object(S.jsx)(i.a,{children:Object(S.jsx)(L,{})})})}),document.getElementById("root")),I()}},[[71,1,2]]]);
//# sourceMappingURL=main.289a8864.chunk.js.map